# 📜 راهنمای اسکریپت‌های اجرا

## 📁 فایل‌های موجود

این پوشه شامل چند فایل برای راه‌اندازی آسان پروژه است:

### 1️⃣ **START.md** - راهنمای کامل
📖 راهنمای کامل و جامع با تمام جزئیات:
- نصب وابستگی‌ها
- تنظیمات پایگاه داده
- راه‌اندازی هر بخش
- رفع مشکلات
- تست سیستم

👉 **برای اولین بار حتماً این فایل را بخوانید!**

---

### 2️⃣ **QUICK-START.md** - شروع سریع (5 دقیقه)
⚡ راهنمای خلاصه و سریع برای شروع فوری:
- فقط دستورات ضروری
- بدون توضیحات اضافی
- ایده‌آل برای کسانی که عجله دارند

👉 **بعد از نصب اولیه، از این استفاده کنید!**

---

### 3️⃣ **run-all.bat** - اسکریپت اجرای خودکار (ساده)
🚀 اسکریپت Windows Batch برای اجرای خودکار:

**چیست؟**
- یک فایل `.bat` ساده برای ویندوز
- با کلیک دوبار اجرا می‌شود
- 4 پنجره CMD جداگانه باز می‌کند
- هر پنجره یک سرویس را اجرا می‌کند

**چگونه استفاده کنیم؟**
```bash
# روش 1: کلیک دوبار روی فایل
run-all.bat

# روش 2: از CMD
cd snabb
run-all.bat
```

**چه کاری انجام می‌دهد؟**
1. ✅ بررسی می‌کند MongoDB در حال اجراست
2. 🔧 Backend را روی پورت 8001 اجرا می‌کند
3. 🎨 Frontend (Passenger) را روی پورت 3000 اجرا می‌کند
4. 👨‍💼 Admin Panel را روی پورت 3001 اجرا می‌کند
5. 🚗 Driver App را روی پورت 3002 اجرا می‌کند

**مزایا:**
- ✅ بسیار ساده
- ✅ بدون نیاز به PowerShell
- ✅ برای همه کار می‌کند

**معایب:**
- ⚠️ بررسی پیش‌نیازها کمتر است
- ⚠️ پیام‌های خطا ساده‌تر هستند

---

### 4️⃣ **run-all.ps1** - اسکریپت PowerShell (پیشرفته)
⚙️ اسکریپت PowerShell با قابلیت‌های بیشتر:

**چیست؟**
- یک فایل `.ps1` برای PowerShell
- رنگی و زیباتر
- بررسی‌های بیشتر
- پیام‌های خطای دقیق‌تر

**چگونه استفاده کنیم؟**
```powershell
# از PowerShell:
cd snabb
powershell -ExecutionPolicy Bypass -File .\run-all.ps1
```

**چه کاری انجام می‌دهد؟**
1. ✅ بررسی می‌کند MongoDB در حال اجراست
2. ✅ بررسی می‌کند تمام پوشه‌ها وجود دارند
3. 🔧 Backend را اجرا می‌کند
4. 🎨 Frontend را اجرا می‌کند
5. 👨‍💼 Admin را اجرا می‌کند
6. 🚗 Driver را اجرا می‌کند
7. ℹ️ اطلاعات دسترسی را نمایش می‌دهد

**مزایا:**
- ✅ رنگی و زیبا
- ✅ بررسی پیش‌نیازها دقیق‌تر
- ✅ پیام‌های خطای واضح‌تر
- ✅ لاگ‌گیری بهتر

**معایب:**
- ⚠️ نیاز به PowerShell دارد
- ⚠️ ممکن است ExecutionPolicy مشکل ایجاد کند

**رفع مشکل ExecutionPolicy:**
```powershell
# اگر خطای ExecutionPolicy گرفتید:
Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser
```

---

### 5️⃣ **stop-all.bat** - توقف همه سرویس‌ها
🛑 برای توقف سریع همه سرویس‌ها:

**چگونه استفاده کنیم؟**
```bash
# کلیک دوبار یا از CMD:
stop-all.bat
```

**چه کاری انجام می‌دهد؟**
- 🛑 Backend (پورت 8001) را می‌بندد
- 🛑 Frontend (پورت 3000) را می‌بندد
- 🛑 Admin (پورت 3001) را می‌بندد
- 🛑 Driver (پورت 3002) را می‌بندد

---

## 🤔 کدام را استفاده کنم؟

### برای مبتدیان:
```bash
✅ استفاده از: run-all.bat
```
- ساده‌ترین روش
- فقط کلیک دوبار
- بدون پیچیدگی

### برای کاربران پیشرفته:
```bash
✅ استفاده از: run-all.ps1
```
- قدرتمندتر
- پیام‌های بهتر
- بررسی‌های دقیق‌تر

---

## 📝 توضیح Bash vs Batch vs PowerShell

### 🐚 Bash Script
**چیست؟** اسکریپت لینوکس/Mac
- فرمت: `.sh`
- سیستم عامل: Linux, macOS
- مثال: `run-all.sh`
- **در ویندوز کار نمی‌کند!** ❌

### 📋 Batch Script
**چیست؟** اسکریپت ساده ویندوز
- فرمت: `.bat`
- سیستم عامل: Windows
- مثال: `run-all.bat`
- ساده و قابل فهم
- با کلیک دوبار اجرا می‌شود

### ⚡ PowerShell Script
**چیست؟** اسکریپت پیشرفته ویندوز
- فرمت: `.ps1`
- سیستم عامل: Windows (PowerShell)
- مثال: `run-all.ps1`
- قدرتمندتر از Batch
- امکانات بیشتر

---

## 🎯 توصیه نهایی

برای ویندوز (شما):

1. **اولین بار:**
   - 📖 START.md را بخوانید
   - 📦 وابستگی‌ها را نصب کنید

2. **اجرا:**
   - 🚀 run-all.bat را کلیک کنید
   - یا اگر دوست دارید: run-all.ps1

3. **توقف:**
   - 🛑 stop-all.bat را کلیک کنید

4. **بعد از آشنایی:**
   - ⚡ QUICK-START.md را استفاده کنید

---

## ❓ سوالات متداول

### Q: Bash چیست و چرا در ویندوز کار نمی‌کند؟
**A:** Bash یک shell (محیط دستوری) لینوکس است. ویندوز از CMD و PowerShell استفاده می‌کند، بنابراین ما اسکریپت‌های `.bat` و `.ps1` ساختیم.

### Q: چرا 4 پنجره باز می‌شود؟
**A:** چون 4 سرویس داریم:
1. Backend (سرور API)
2. Frontend (مسافر)
3. Admin (پنل مدیر)
4. Driver (راننده)

هر کدام باید در یک پنجره جداگانه اجرا شوند.

### Q: MongoDB خطا می‌دهد؟
**A:** ابتدا MongoDB را اجرا کنید:
```bash
mongod
```
یا از Services ویندوز MongoDB را Start کنید.

### Q: پورت اشغال است؟
**A:** از stop-all.bat استفاده کنید یا دستی پورت‌ها را آزاد کنید:
```bash
netstat -ano | findstr :8001
taskkill /PID <شماره> /F
```

---

## 🎉 موفق باشید!

حالا شما می‌دانید:
- ✅ چه فایل‌هایی وجود دارند
- ✅ هر کدام چه کاری انجام می‌دهند
- ✅ چگونه استفاده کنیم
- ✅ چه زمانی از کدام استفاده کنیم

**لذت ببرید! 🚀🚕**
